function Poll(a, b) {
    this.name = a, this.votes = b, this.totalVotes = 0;
    var c = this;
    b.forEach(function(a) {
        c.totalVotes += a.amount;
    });
}

var loginModule = angular.module("loginModule", []);

loginModule.directive("login", function() {
    return {
        restict: "A",
        templateUrl: "assets/templates/login.html",
        controller: "loginCtrl"
    };
}), loginModule.controller("loginCtrl", [ "$scope", "$http", function(a, b) {
    a.login = {
        email: "",
        password: ""
    }, a.checkData = function() {
        b.post("assets/php/response.txt", {
            email: a.email,
            password: a.password
        }).then(function(a) {
            var b = parseInt(a.data);
            0 === b ? console.log("not set") : 1 === b ? console.log("logged in") : 2 === b ? console.log("incorrect data") : console.log("unknown response", a);
        }, function(a) {
            console.log("error logging in", a);
        });
    };
} ]);

var mainModule = angular.module("mainModule", []);

mainModule.controller("MainCtrl", [ "$scope", function(a) {
    a.popularPolls = [ new Poll("Poll 1", [ {
        name: "option 1",
        amount: 20
    }, {
        name: "option 2",
        amount: 80
    } ]), new Poll("Poll 2", [ {
        name: "option 1",
        amount: 20
    }, {
        name: "option 2",
        amount: 80
    } ]), new Poll("Poll 3", [ {
        name: "option 1",
        amount: 20
    }, {
        name: "option 2",
        amount: 80
    } ]) ];
} ]), function() {
    var a = angular.module("voteApp", [ "ngRoute", "loginModule", "mainModule" ]);
    a.config([ "$routeProvider", "$locationProvider", function(a, b) {
        a.when("/", {
            templateUrl: "assets/templates/main-page.html",
            controller: "MainCtrl"
        }).otherwise("/");
    } ]);
}();